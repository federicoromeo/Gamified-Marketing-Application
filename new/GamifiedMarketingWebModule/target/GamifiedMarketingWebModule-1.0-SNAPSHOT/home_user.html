<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <meta charset="ISO-8859-1">
    <title>  Home Page  </title>
    <a th:href="@{/Logout}" class="logout-button">Logout</a>
    <script src="../js/************.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">

</head>

<body>

<h1>Welcome to the User Home Page<span th:text="${' ' + session.user.username}"></span></h1><br>

<fieldset>
    <h2>Image of the day</h2><br>
    <div class="product-of-the-day-container">
        <p   th:text="${product.name}" id="image-description" name="image-name"> No Product Of The Day </p><br>
        <img th:src="@{'data:image/png;base64,'+${product.image}}" /><br>
    </div>
</fieldset>

<div class="reviews-container">
    <h3>Users' reviews</h3>

    <table class="table" id="reviews">
        <tr>
            <th>Username</th>
            <div th:each="mq: ${product.marketingquestionsById}">
                <th th:text="${mq.getText()}">No questions</th>
            </div>
        </tr>
        <tr th:each="mq: ${product.marketingquestionsById}">
            <div th:each="ma: ${mq.marketinganswersById}">
                <td th:text="${ma.userByUserId.username}">fede</td>
                <td th:text="${ma.getText()}">awful</td>
            </div>
        </tr>
    </table>

</div>
<br><br>

<form action="GoToCompileQuestionnaire" method="POST">
    <input type="hidden" name="product" th:value="${product.getId()}">
    <input id="compile-questionnaire-button" type="submit" value="Compile the questionnaire!">
</form>
<!--a href="../WEB-INF/questionnaire.html" th:href="@{GoToCompileQuestionnaire/${product}|}"> Compile the questionnaire! </a-->

</body>


</html>
